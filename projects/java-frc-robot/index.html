<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href=/css/fonts.css rel=stylesheet><link rel=stylesheet type=text/css href=/css/bootstrap.min.css><link rel=stylesheet type=text/css href=/css/all.min.css><link disabled id=dark-mode-theme rel=stylesheet href=/css/dark.css><link rel=stylesheet type=text/css href=/css/style.css><link rel=stylesheet type=text/css href=/css/custom.css><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/x-icon href=/favicon.ico><title>Weaver Goldman | Java FRC Robot</title><meta name=description content="The improved code that now runs our FRC robot following the world championship, and the lessons learned along the way."></head><body><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class=container><a class=navbar-brand href=https://we-gold.github.io><b style=font-weight:800>WG</b></a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNavDropdown aria-controls=navbarNavDropdown aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNavDropdown><ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item><a class=nav-link href=/garden/>Digital Garden</a></li><li class=nav-item><a class=nav-link href=/projects/>Projects</a></li><li class=nav-item><a class=nav-link href=/about/>About</a></li><li class="nav-item px-2 pt-1"><a class="btn fas fa-moon" id=dark-mode-toggle></a></li></ul></div></div></nav><div id=content><div class=container style=max-width:800px><div class="py-4 rounded-3"><div class="container-fluid py-2"><h1 class="display-2 mb-4 text-center">Java FRC Robot</h1></div><p class="text-center fs-4 fst-italic serif">The improved code that now runs our FRC robot following the world championship, and the lessons learned along the way.</p><div class="text-center pt-4"><a href=https://github.com/FRC2539/javabot role=button class="btn btn-sm btn-link mx-2" target=_blank><i class="fab alt brands fa-github fs-5"></i>
See the code</a>
<a href=https://www.team2539.com/ role=button class="btn btn-sm btn-link mx-2" target=_blank><i class="fas fa-external-link-alt fs-5"></i>
Visit our team's website</a>
<a href=https://www.tiktok.com/@kryptoncougars2539 role=button class="btn btn-sm btn-link mx-2" target=_blank><i class="fab fa-brands fa-tiktok fs-5"></i>
Watch season highlights</a></div></div><div class="row justify-content-center mb-5"><div class=col-12><p class="card-date m-0">Created Jun 24, 2022 -
Last updated: Jun 24, 2022</p><hr class=dropdown-divider><div class="row justify-content-between"><div class=col-sm-4><span class=status>Seeding ðŸŒ±</span></div><div class=col-sm-8 style=text-align:right><span class="badge tag-badge">robotics</span>
<span class="badge tag-badge">java</span></div></div></div></div><div class="container-fluid py-2"><div class="serif main-content"><p>What is FRC, and what are FRC robots?</p><hr><p>FRC, or FIRST Robotics Competition, is a program hosted and managed by FIRST (a robotics non-profit) in which thousands of teams from around the world compete to rapidly design, build, program, and drive robots in a unique game for each season.</p><h2 id=game-explanation>Game Explanation</h2><p>This year&rsquo;s game, Rapid React, involves shooting oversized tennis balls (nicknamed cargo) into a large central hub for points.</p><details class="mb-3 lazy-details"><summary><strong>Click here to watch an animated explanation of the game, or scroll down for a written explanation.</strong></summary>
<iframe style=aspect-ratio:560/315 width=100% src=about:blank data-src=https://www.youtube-nocookie.com/embed/LgniEjI9cCM title="YouTube video player" frameborder=0 allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></details><p>During one match (2 minute and 30 seconds), robots begin by attempting to collect and score cargo autonomously (this segment lasts for the first 15 seconds of the match).</p><p>Then, for the next 1 minute and 45 seconds, robots collect and shoot as much cargo as possible to rack up points.</p><p>Finally, the last 30 seconds are devoted to endgame, where robots climb up monkey bars of increasing height, and receive additional points for the final bar they end up on.</p><figure><img src=./PXL_20220409_220236411.jpg width=100%><figcaption><h4>Team 2539 (my current team) and team 341 (my old team) climbing together at district championships.</h4></figcaption></figure><hr><h2 id=robots-explained>Robots Explained</h2><p>We have approximately six weeks, starting in January, to fully construct and code our robots.</p><p>Following that period we attend competitions, and with a high overall performance, it is possible to qualify to go to the world championship (~450 teams attend the competition).</p><figure><img src=./20220423_171616.jpg width=100%><figcaption><h4>Moments before the final matches of the world championship.</h4></figcaption></figure><hr><h3 id=using-python>Using Python</h3><p>We began the season using Python, as we always have, because it is easy to learn and prototype with.</p><p>Unfortunately, it is not an officially supported language, <strong>so library releases are delayed (if available at all), and bugs are possible</strong>.</p><p>This is no fault of the amazing team that works on Python support for FIRST; it is simply not an officially supported language.</p><p>As lead programmer on the team, I am in charge of the robot code, and I was well aware of the struggles we faced with programming the robot.</p><h4 id=challenges>Challenges</h4><p>The most significant challenges we faced were the <strong>lack of (FIRST-specific) libraries</strong> available for Python and the <strong>slower processing speed</strong> (when compared to compiled alternatives).</p><p>We immediately noticed the discrepancy when we attended district competitions, and we saw other teams running complex autonomous paths, impressively fast aiming algorithms, and responsive drivetrain controls.</p><p>Given the time and effort that the whole team had put into the robot, there were times that I felt that I had let the team down with the performance of our robot.</p><p><em>Before continuing, I must mention that we performed very well this season, and a combination of luck and incredible team effort were able to get us to this point.</em></p><p>In order to remain competitive in FRC, constant improvement is necessary.</p><p>Making modifications is imperative, and therefore the programming team worked at writing advanced and improved algorithms throughout the season.</p><p>Unfortunately, the performance of the code was, at the time, inexplicable.</p><p><strong>Fast-forward to worlds</strong>, and the gap became more and more apparent. The majority of robots there were impressively performant and could complete complex tasks autonomously.</p><h3 id=java>Java?</h3><p>After worlds ended (and with us unexpectedly ending as finalists), our team returned to our hotel and reflected upon the competition and the season.</p><p>I was unsatisfied with the state of our code, and I voiced my opinions to my fellow programmers:</p><blockquote><p>&ldquo;We are going to try writing the robot code in Java.&rdquo;</p></blockquote><p>When we returned to meetings, I dedicated myself to the Java rewrite, and I was able to create a prototype codebase over a weekend to test.</p><h4 id=surprising-results>Surprising Results</h4><p>I arrived at the buildsite (which was now a mentor&rsquo;s garage, as we had just lost our previous buildsite) ready and excited to test the new swerve drive code on the robot. <em>Swerve drive is a type of drivetrain that uses four independently rotating wheels to enable simultaneous translation and rotation.</em></p><p>Given that code rarely runs correctly the first time, it was not a surprise that I had to spend the next meetings debugging, rewriting, and modifying code before I got the robot running.</p><p><strong>But then, something amazing happened.</strong></p><p>The robot drove. Not only did it drive, but it drove responsively.</p><p>In a moment of enthusiasm, I wrote a simple PID control algorithm to aim the robot at the central hub using the onboard camera.</p><p>This was nothing new, we had an algorithm for this task in our python code, but it always took a few seconds to aim at the target.</p><p>I deployed the code, &ldquo;asked&rdquo; another programmer to hold up a cardboard target model in front of the robot, and enabled the camera-based aiming system for the first time.</p><p><strong>My jaw basically dropped.</strong></p><p>It locked on almost instantaneously and held the lock despite movement in the target.</p><p>Given how well these two systems now worked, I was inspired to speed-write the robot code over the next week of meetings.</p><h4 id=the-current-state>The Current State</h4><p>With more development, our robot can now follow complex paths on the field and can responsively react to controls and to the environment.</p><p>Additionally, the decision to change to Java unexpectedly eased the introduction into robot code for many new programmers, as our high school has a course on Java that many of them have taken.</p><h2 id=conclusion>Conclusion</h2><p>Overall, this was not a revolutionary discovery or an incredible project, but I can now proudly say that I, and the other programmers on the team, are buidling a solid codebase that can be drawn up in years to come.</p><p>To summarize what I have learned from this whirlwind of a season:</p><blockquote><p>Even if you are satisfied with the status quo, failing to improve without trying doesn&rsquo;t do justice to the hard work and commitment it took to get this far. Continuous improvement!</p></blockquote></div></div><script src=https://utteranc.es/client.js repo=We-Gold/We-Gold.github.io issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></div></div><div class=container><div class="row justify-content-between"><div class=col-8><p class=footer>Weaver Goldman Â© 2022</p></div><div class="col-4 d-flex flex-row-reverse"><a class="footer-social px-2" href=https://github.com/We-Gold target=_blank><i class="fab fa-github"></i></a>
<a class="footer-social px-2" href=https://www.linkedin.com/in/weaver-goldman/ target=_blank><i class="fab fa-linkedin-in"></i></a></div></div></div><script src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/jquery.min.js></script>
<script src=/js/isotope.pkgd.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js integrity=sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D crossorigin=anonymous async></script>
<script src=/js/dark.js></script>
<script src=/js/isotope.js></script>
<script src=/js/custom.js></script>
<script data-goatcounter=https://wegold.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>